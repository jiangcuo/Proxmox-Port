From 61c0acf3cd0248098333d231eb2f8e08db7f1821 Mon Sep 17 00:00:00 2001
From: jiangcuo <jiangcuo@bingsin.com>
Date: Mon, 3 Feb 2025 15:00:50 +0800
Subject: [PATCH 5/9] fix test for port

---
 test/cfg2cmd/bootorder-empty.conf                          | 1 +
 test/cfg2cmd/bootorder-empty.conf.cmd                      | 2 +-
 test/cfg2cmd/bootorder-legacy.conf                         | 1 +
 test/cfg2cmd/bootorder-legacy.conf.cmd                     | 2 +-
 test/cfg2cmd/bootorder.conf                                | 1 +
 test/cfg2cmd/bootorder.conf.cmd                            | 2 +-
 test/cfg2cmd/cputype-icelake-client-deprecation.conf       | 1 +
 test/cfg2cmd/custom-cpu-model-defaults.conf                | 1 +
 test/cfg2cmd/custom-cpu-model-host-phys-bits.conf          | 1 +
 test/cfg2cmd/custom-cpu-model.conf                         | 1 +
 test/cfg2cmd/efi-raw-old.conf                              | 1 +
 test/cfg2cmd/efi-raw-template.conf                         | 1 +
 test/cfg2cmd/efi-raw-template.conf.cmd                     | 2 +-
 test/cfg2cmd/efi-raw.conf                                  | 1 +
 test/cfg2cmd/efi-raw.conf.cmd                              | 2 +-
 test/cfg2cmd/efi-secboot-and-tpm-q35.conf                  | 1 +
 test/cfg2cmd/efi-secboot-and-tpm.conf                      | 1 +
 test/cfg2cmd/efidisk-on-rbd.conf                           | 1 +
 test/cfg2cmd/efidisk-on-rbd.conf.cmd                       | 2 +-
 test/cfg2cmd/i440fx-viommu-intel.conf                      | 1 +
 test/cfg2cmd/i440fx-viommu-virtio.conf                     | 1 +
 test/cfg2cmd/i440fx-win10-hostpci.conf                     | 1 +
 test/cfg2cmd/ide.conf                                      | 1 +
 test/cfg2cmd/memory-hotplug-hugepages.conf                 | 1 +
 test/cfg2cmd/memory-hotplug.conf                           | 1 +
 test/cfg2cmd/memory-hugepages-1g.conf                      | 1 +
 test/cfg2cmd/memory-hugepages-2m.conf                      | 1 +
 test/cfg2cmd/minimal-defaults-to-new-machine.conf          | 1 +
 test/cfg2cmd/minimal-defaults-unsupported-pve-version.conf | 1 +
 test/cfg2cmd/minimal-defaults.conf                         | 1 +
 test/cfg2cmd/netdev-7.0-multiqueues.conf                   | 1 +
 test/cfg2cmd/netdev-7.1-multiqueues.conf                   | 1 +
 test/cfg2cmd/netdev-7.1.conf                               | 1 +
 test/cfg2cmd/netdev.conf                                   | 1 +
 test/cfg2cmd/old-qemu.conf                                 | 1 +
 test/cfg2cmd/ostype-usb13-error.conf                       | 1 +
 test/cfg2cmd/pinned-version-pxe-pve.conf                   | 1 +
 test/cfg2cmd/pinned-version-pxe.conf                       | 1 +
 test/cfg2cmd/pinned-version.conf                           | 1 +
 test/cfg2cmd/q35-ide.conf                                  | 1 +
 test/cfg2cmd/q35-linux-hostpci-mapping.conf                | 1 +
 test/cfg2cmd/q35-linux-hostpci-multifunction.conf          | 1 +
 test/cfg2cmd/q35-linux-hostpci-template.conf               | 1 +
 test/cfg2cmd/q35-linux-hostpci-x-pci-overrides.conf        | 1 +
 test/cfg2cmd/q35-linux-hostpci.conf                        | 1 +
 test/cfg2cmd/q35-simple-6.0.conf                           | 1 +
 test/cfg2cmd/q35-simple-7.0.conf                           | 1 +
 test/cfg2cmd/q35-simple-pinned-6.1.conf                    | 1 +
 test/cfg2cmd/q35-simple.conf                               | 1 +
 test/cfg2cmd/q35-usb13-error.conf                          | 1 +
 test/cfg2cmd/q35-usb2.conf                                 | 1 +
 test/cfg2cmd/q35-usb3.conf                                 | 1 +
 test/cfg2cmd/q35-viommu-intel.conf                         | 1 +
 test/cfg2cmd/q35-viommu-virtio.conf                        | 1 +
 test/cfg2cmd/q35-win10-hostpci.conf                        | 1 +
 test/cfg2cmd/qemu-xhci-7.1.conf                            | 1 +
 test/cfg2cmd/qemu-xhci-q35-7.1.conf                        | 1 +
 test/cfg2cmd/seabios_serial.conf                           | 1 +
 test/cfg2cmd/simple-balloon-free-page-reporting.conf       | 1 +
 test/cfg2cmd/simple-btrfs.conf                             | 1 +
 test/cfg2cmd/simple-virtio-blk.conf                        | 1 +
 test/cfg2cmd/simple1-template.conf                         | 1 +
 test/cfg2cmd/simple1.conf                                  | 1 +
 test/cfg2cmd/spice-enhancments.conf                        | 1 +
 test/cfg2cmd/spice-linux-4.1.conf                          | 1 +
 test/cfg2cmd/spice-usb3.conf                               | 1 +
 test/cfg2cmd/spice-win.conf                                | 1 +
 test/cfg2cmd/usb13-error.conf                              | 1 +
 test/cfg2cmd/vnc-clipboard-spice.conf                      | 1 +
 test/cfg2cmd/vnc-clipboard-std.conf                        | 1 +
 70 files changed, 70 insertions(+), 6 deletions(-)

diff --git a/test/cfg2cmd/bootorder-empty.conf b/test/cfg2cmd/bootorder-empty.conf
index ccfadb9f..1cd6ee18 100644
--- a/test/cfg2cmd/bootorder-empty.conf
+++ b/test/cfg2cmd/bootorder-empty.conf
@@ -13,3 +13,4 @@ sockets: 1
 virtio0: local:8006/vm-8006-disk-0.qcow2,discard=on,iothread=1,size=104858K
 virtio1: local:8006/vm-8006-disk-0.qcow2,discard=on,iothread=1,size=104858K
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
+arch: x86_64
diff --git a/test/cfg2cmd/bootorder-empty.conf.cmd b/test/cfg2cmd/bootorder-empty.conf.cmd
index 87fa6c28..2375ec96 100644
--- a/test/cfg2cmd/bootorder-empty.conf.cmd
+++ b/test/cfg2cmd/bootorder-empty.conf.cmd
@@ -27,7 +27,7 @@
   -iscsi 'initiator-name=iqn.1993-08.org.debian:01:aabbccddeeff' \
   -drive 'if=none,id=drive-ide2,media=cdrom,aio=io_uring' \
   -device 'ide-cd,bus=ide.1,unit=0,drive=drive-ide2,id=ide2' \
-  -device 'lsi,id=scsihw0,bus=pci.0,addr=0x5' \
+  -device 'virtio-scsi-pci,id=scsihw0,bus=pci.0,addr=0x5' \
   -drive 'file=/var/lib/vz/images/8006/vm-8006-disk-0.qcow2,if=none,id=drive-scsi4,discard=on,format=qcow2,cache=none,aio=io_uring,detect-zeroes=unmap' \
   -device 'scsi-hd,bus=scsihw0.0,scsi-id=4,drive=drive-scsi4,id=scsi4' \
   -drive 'file=/var/lib/vz/images/8006/vm-8006-disk-0.qcow2,if=none,id=drive-virtio0,discard=on,format=qcow2,cache=none,aio=io_uring,detect-zeroes=unmap' \
diff --git a/test/cfg2cmd/bootorder-legacy.conf b/test/cfg2cmd/bootorder-legacy.conf
index 4e59268b..b455770c 100644
--- a/test/cfg2cmd/bootorder-legacy.conf
+++ b/test/cfg2cmd/bootorder-legacy.conf
@@ -14,3 +14,4 @@ sockets: 1
 virtio0: local:8006/vm-8006-disk-0.qcow2,discard=on,iothread=1,size=104858K
 virtio1: local:8006/vm-8006-disk-0.qcow2,discard=on,iothread=1,size=104858K
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
+arch: x86_64
diff --git a/test/cfg2cmd/bootorder-legacy.conf.cmd b/test/cfg2cmd/bootorder-legacy.conf.cmd
index a4c3f050..ec06c16b 100644
--- a/test/cfg2cmd/bootorder-legacy.conf.cmd
+++ b/test/cfg2cmd/bootorder-legacy.conf.cmd
@@ -27,7 +27,7 @@
   -iscsi 'initiator-name=iqn.1993-08.org.debian:01:aabbccddeeff' \
   -drive 'if=none,id=drive-ide2,media=cdrom,aio=io_uring' \
   -device 'ide-cd,bus=ide.1,unit=0,drive=drive-ide2,id=ide2,bootindex=200' \
-  -device 'lsi,id=scsihw0,bus=pci.0,addr=0x5' \
+  -device 'virtio-scsi-pci,id=scsihw0,bus=pci.0,addr=0x5' \
   -drive 'file=/var/lib/vz/images/8006/vm-8006-disk-0.qcow2,if=none,id=drive-scsi4,discard=on,format=qcow2,cache=none,aio=io_uring,detect-zeroes=unmap' \
   -device 'scsi-hd,bus=scsihw0.0,scsi-id=4,drive=drive-scsi4,id=scsi4' \
   -drive 'file=/var/lib/vz/images/8006/vm-8006-disk-0.qcow2,if=none,id=drive-virtio0,discard=on,format=qcow2,cache=none,aio=io_uring,detect-zeroes=unmap' \
diff --git a/test/cfg2cmd/bootorder.conf b/test/cfg2cmd/bootorder.conf
index 7991065d..f1bf0e62 100644
--- a/test/cfg2cmd/bootorder.conf
+++ b/test/cfg2cmd/bootorder.conf
@@ -13,3 +13,4 @@ sockets: 1
 virtio0: local:8006/vm-8006-disk-0.qcow2,discard=on,iothread=1,size=104858K
 virtio1: local:8006/vm-8006-disk-0.qcow2,discard=on,iothread=1,size=104858K
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
+arch: x86_64
diff --git a/test/cfg2cmd/bootorder.conf.cmd b/test/cfg2cmd/bootorder.conf.cmd
index 76bd55d7..a62789f5 100644
--- a/test/cfg2cmd/bootorder.conf.cmd
+++ b/test/cfg2cmd/bootorder.conf.cmd
@@ -27,7 +27,7 @@
   -iscsi 'initiator-name=iqn.1993-08.org.debian:01:aabbccddeeff' \
   -drive 'if=none,id=drive-ide2,media=cdrom,aio=io_uring' \
   -device 'ide-cd,bus=ide.1,unit=0,drive=drive-ide2,id=ide2,bootindex=103' \
-  -device 'lsi,id=scsihw0,bus=pci.0,addr=0x5' \
+  -device 'virtio-scsi-pci,id=scsihw0,bus=pci.0,addr=0x5' \
   -drive 'file=/var/lib/vz/images/8006/vm-8006-disk-0.qcow2,if=none,id=drive-scsi4,discard=on,format=qcow2,cache=none,aio=io_uring,detect-zeroes=unmap' \
   -device 'scsi-hd,bus=scsihw0.0,scsi-id=4,drive=drive-scsi4,id=scsi4,bootindex=102' \
   -drive 'file=/var/lib/vz/images/8006/vm-8006-disk-0.qcow2,if=none,id=drive-virtio0,discard=on,format=qcow2,cache=none,aio=io_uring,detect-zeroes=unmap' \
diff --git a/test/cfg2cmd/cputype-icelake-client-deprecation.conf b/test/cfg2cmd/cputype-icelake-client-deprecation.conf
index c0c4b929..91169ebc 100644
--- a/test/cfg2cmd/cputype-icelake-client-deprecation.conf
+++ b/test/cfg2cmd/cputype-icelake-client-deprecation.conf
@@ -11,3 +11,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 sockets: 1
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
+arch: x86_64
diff --git a/test/cfg2cmd/custom-cpu-model-defaults.conf b/test/cfg2cmd/custom-cpu-model-defaults.conf
index cdef2858..2e443a3f 100644
--- a/test/cfg2cmd/custom-cpu-model-defaults.conf
+++ b/test/cfg2cmd/custom-cpu-model-defaults.conf
@@ -6,3 +6,4 @@ numa: 0
 ostype: l26
 smbios1: uuid=2ea3f676-dfa5-11e9-ae82-c721e12f3fce
 sockets: 1
+arch: x86_64
diff --git a/test/cfg2cmd/custom-cpu-model-host-phys-bits.conf b/test/cfg2cmd/custom-cpu-model-host-phys-bits.conf
index 76abef64..fe72e654 100644
--- a/test/cfg2cmd/custom-cpu-model-host-phys-bits.conf
+++ b/test/cfg2cmd/custom-cpu-model-host-phys-bits.conf
@@ -7,3 +7,4 @@ numa: 0
 ostype: win10
 smbios1: uuid=2ea3f676-dfa5-11e9-ae82-c721e12f3fcf
 sockets: 1
+arch: x86_64
diff --git a/test/cfg2cmd/custom-cpu-model.conf b/test/cfg2cmd/custom-cpu-model.conf
index f4df6eb5..01ecca91 100644
--- a/test/cfg2cmd/custom-cpu-model.conf
+++ b/test/cfg2cmd/custom-cpu-model.conf
@@ -7,3 +7,4 @@ numa: 0
 ostype: win10
 smbios1: uuid=2ea3f676-dfa5-11e9-ae82-c721e12f3fcf
 sockets: 1
+arch: x86_64
diff --git a/test/cfg2cmd/efi-raw-old.conf b/test/cfg2cmd/efi-raw-old.conf
index 549cd250..c645adb0 100644
--- a/test/cfg2cmd/efi-raw-old.conf
+++ b/test/cfg2cmd/efi-raw-old.conf
@@ -3,3 +3,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 bios: ovmf
 machine: pc-i440fx-4.1+pve1
 efidisk0: local:100/vm-disk-100-0.raw
+arch: x86_64
diff --git a/test/cfg2cmd/efi-raw-template.conf b/test/cfg2cmd/efi-raw-template.conf
index a1815226..4ab09e81 100644
--- a/test/cfg2cmd/efi-raw-template.conf
+++ b/test/cfg2cmd/efi-raw-template.conf
@@ -3,3 +3,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 bios: ovmf
 efidisk0: local:100/base-disk-100-0.raw
 template: 1
+arch: x86_64
diff --git a/test/cfg2cmd/efi-raw-template.conf.cmd b/test/cfg2cmd/efi-raw-template.conf.cmd
index 3e90c335..cb6033be 100644
--- a/test/cfg2cmd/efi-raw-template.conf.cmd
+++ b/test/cfg2cmd/efi-raw-template.conf.cmd
@@ -9,7 +9,7 @@
   -pidfile /var/run/qemu-server/8006.pid \
   -daemonize \
   -drive 'if=pflash,unit=0,format=raw,readonly=on,file=/usr/share/pve-edk2-firmware//OVMF_CODE.fd' \
-  -drive 'if=pflash,unit=1,id=drive-efidisk0,format=raw,file=/var/lib/vz/images/100/base-disk-100-0.raw,size=131072,readonly=on' \
+  -drive 'if=pflash,unit=1,id=drive-efidisk0,format=raw,file=/var/lib/vz/images/100/base-disk-100-0.raw,size=540672,readonly=on' \
   -smp '1,sockets=1,cores=1,maxcpus=1' \
   -nodefaults \
   -boot 'menu=on,strict=on,reboot-timeout=1000,splash=/usr/share/qemu-server/bootsplash.jpg' \
diff --git a/test/cfg2cmd/efi-raw.conf b/test/cfg2cmd/efi-raw.conf
index 11e6a3e6..61626071 100644
--- a/test/cfg2cmd/efi-raw.conf
+++ b/test/cfg2cmd/efi-raw.conf
@@ -2,3 +2,4 @@
 smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 bios: ovmf
 efidisk0: local:100/vm-disk-100-0.raw
+arch: x86_64
diff --git a/test/cfg2cmd/efi-raw.conf.cmd b/test/cfg2cmd/efi-raw.conf.cmd
index cf9804bc..8120a828 100644
--- a/test/cfg2cmd/efi-raw.conf.cmd
+++ b/test/cfg2cmd/efi-raw.conf.cmd
@@ -10,7 +10,7 @@
   -daemonize \
   -smbios 'type=1,uuid=7b10d7af-b932-4c66-b2c3-3996152ec465' \
   -drive 'if=pflash,unit=0,format=raw,readonly=on,file=/usr/share/pve-edk2-firmware//OVMF_CODE.fd' \
-  -drive 'if=pflash,unit=1,id=drive-efidisk0,format=raw,file=/var/lib/vz/images/100/vm-disk-100-0.raw,size=131072' \
+  -drive 'if=pflash,unit=1,id=drive-efidisk0,format=raw,file=/var/lib/vz/images/100/vm-disk-100-0.raw,size=540672' \
   -smp '1,sockets=1,cores=1,maxcpus=1' \
   -nodefaults \
   -boot 'menu=on,strict=on,reboot-timeout=1000,splash=/usr/share/qemu-server/bootsplash.jpg' \
diff --git a/test/cfg2cmd/efi-secboot-and-tpm-q35.conf b/test/cfg2cmd/efi-secboot-and-tpm-q35.conf
index 5d4b5f5e..07baec9d 100644
--- a/test/cfg2cmd/efi-secboot-and-tpm-q35.conf
+++ b/test/cfg2cmd/efi-secboot-and-tpm-q35.conf
@@ -4,3 +4,4 @@ bios: ovmf
 machine: q35
 efidisk0: local:100/vm-disk-100-0.raw,efitype=4m,pre-enrolled-keys=1,size=528K
 tpmstate0: local:108/vm-100-disk-1.raw,size=4M,version=v2.0
+arch: x86_64
diff --git a/test/cfg2cmd/efi-secboot-and-tpm.conf b/test/cfg2cmd/efi-secboot-and-tpm.conf
index 915424ec..3d8dfa3e 100644
--- a/test/cfg2cmd/efi-secboot-and-tpm.conf
+++ b/test/cfg2cmd/efi-secboot-and-tpm.conf
@@ -3,3 +3,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 bios: ovmf
 efidisk0: local:100/vm-disk-100-0.raw,efitype=4m,pre-enrolled-keys=1,size=528K
 tpmstate0: local:108/vm-100-disk-1.raw,size=4M,version=v2.0
+arch: x86_64
diff --git a/test/cfg2cmd/efidisk-on-rbd.conf b/test/cfg2cmd/efidisk-on-rbd.conf
index 1958fe61..be940ebb 100644
--- a/test/cfg2cmd/efidisk-on-rbd.conf
+++ b/test/cfg2cmd/efidisk-on-rbd.conf
@@ -9,3 +9,4 @@ numa: 1
 ostype: l26
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e688
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13a
+arch: x86_64
diff --git a/test/cfg2cmd/efidisk-on-rbd.conf.cmd b/test/cfg2cmd/efidisk-on-rbd.conf.cmd
index f02039a1..4c99c302 100644
--- a/test/cfg2cmd/efidisk-on-rbd.conf.cmd
+++ b/test/cfg2cmd/efidisk-on-rbd.conf.cmd
@@ -10,7 +10,7 @@
   -daemonize \
   -smbios 'type=1,uuid=3dd750ce-d910-44d0-9493-525c0be4e688' \
   -drive 'if=pflash,unit=0,format=raw,readonly=on,file=/usr/share/pve-edk2-firmware//OVMF_CODE.fd' \
-  -drive 'if=pflash,unit=1,id=drive-efidisk0,cache=writeback,format=raw,file=rbd:cpool/vm-100-disk-1:mon_host=127.0.0.42;127.0.0.21;[\:\:1]:auth_supported=none:rbd_cache_policy=writeback,size=131072' \
+  -drive 'if=pflash,unit=1,id=drive-efidisk0,cache=writeback,format=raw,file=rbd:cpool/vm-100-disk-1:mon_host=127.0.0.42;127.0.0.21;[\:\:1]:auth_supported=none:rbd_cache_policy=writeback,size=540672' \
   -smp '1,sockets=1,cores=1,maxcpus=1' \
   -nodefaults \
   -boot 'menu=on,strict=on,reboot-timeout=1000,splash=/usr/share/qemu-server/bootsplash.jpg' \
diff --git a/test/cfg2cmd/i440fx-viommu-intel.conf b/test/cfg2cmd/i440fx-viommu-intel.conf
index bc1eb954..359859f6 100644
--- a/test/cfg2cmd/i440fx-viommu-intel.conf
+++ b/test/cfg2cmd/i440fx-viommu-intel.conf
@@ -1,2 +1,3 @@
 # EXPECT_ERROR: to use Intel vIOMMU please set the machine type to q35
 machine: pc,viommu=intel
+arch: x86_64
diff --git a/test/cfg2cmd/i440fx-viommu-virtio.conf b/test/cfg2cmd/i440fx-viommu-virtio.conf
index fe7b514c..446edefe 100644
--- a/test/cfg2cmd/i440fx-viommu-virtio.conf
+++ b/test/cfg2cmd/i440fx-viommu-virtio.conf
@@ -1 +1,2 @@
 machine: pc,viommu=virtio
+arch: x86_64
diff --git a/test/cfg2cmd/i440fx-win10-hostpci.conf b/test/cfg2cmd/i440fx-win10-hostpci.conf
index 2ab2dda1..a6208e88 100644
--- a/test/cfg2cmd/i440fx-win10-hostpci.conf
+++ b/test/cfg2cmd/i440fx-win10-hostpci.conf
@@ -13,3 +13,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 sockets: 2
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/ide.conf b/test/cfg2cmd/ide.conf
index 0c48aac8..c8a79eb5 100644
--- a/test/cfg2cmd/ide.conf
+++ b/test/cfg2cmd/ide.conf
@@ -12,3 +12,4 @@ scsi0: local:100/vm-100-disk-2.qcow2,size=10G
 scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/memory-hotplug-hugepages.conf b/test/cfg2cmd/memory-hotplug-hugepages.conf
index 1c9d89e4..c915f76b 100644
--- a/test/cfg2cmd/memory-hotplug-hugepages.conf
+++ b/test/cfg2cmd/memory-hotplug-hugepages.conf
@@ -9,3 +9,4 @@ sockets: 2
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 hotplug: memory
 hugepages: 1024
+arch: x86_64
diff --git a/test/cfg2cmd/memory-hotplug.conf b/test/cfg2cmd/memory-hotplug.conf
index 1388a35e..7e326626 100644
--- a/test/cfg2cmd/memory-hotplug.conf
+++ b/test/cfg2cmd/memory-hotplug.conf
@@ -8,3 +8,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 sockets: 2
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 hotplug: memory
+arch: x86_64
diff --git a/test/cfg2cmd/memory-hugepages-1g.conf b/test/cfg2cmd/memory-hugepages-1g.conf
index de6b66b4..f6816045 100644
--- a/test/cfg2cmd/memory-hugepages-1g.conf
+++ b/test/cfg2cmd/memory-hugepages-1g.conf
@@ -8,3 +8,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 sockets: 2
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 hugepages: 1024
+arch: x86_64
diff --git a/test/cfg2cmd/memory-hugepages-2m.conf b/test/cfg2cmd/memory-hugepages-2m.conf
index 35d7b21e..ea575be4 100644
--- a/test/cfg2cmd/memory-hugepages-2m.conf
+++ b/test/cfg2cmd/memory-hugepages-2m.conf
@@ -8,3 +8,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 sockets: 2
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 hugepages: 2
+arch: x86_64
diff --git a/test/cfg2cmd/minimal-defaults-to-new-machine.conf b/test/cfg2cmd/minimal-defaults-to-new-machine.conf
index e469cd73..0fed565c 100644
--- a/test/cfg2cmd/minimal-defaults-to-new-machine.conf
+++ b/test/cfg2cmd/minimal-defaults-to-new-machine.conf
@@ -3,3 +3,4 @@
 # EXPECT_ERROR: Installed QEMU version '9.0.0' is too old to run machine type 'pc-q35-42.9+pve0', please upgrade node 'localhost'
 smbios1: uuid=6cf17dc3-8341-4ecc-aebd-7503f2583fb3
 machine: pc-q35-42.9
+arch: x86_64
diff --git a/test/cfg2cmd/minimal-defaults-unsupported-pve-version.conf b/test/cfg2cmd/minimal-defaults-unsupported-pve-version.conf
index 33d3c93f..ab71f6fb 100644
--- a/test/cfg2cmd/minimal-defaults-unsupported-pve-version.conf
+++ b/test/cfg2cmd/minimal-defaults-unsupported-pve-version.conf
@@ -3,3 +3,4 @@
 # EXPECT_ERROR: Installed qemu-server (max feature level for 9.0 is pve0) is too old to run machine type 'pc-q35-9.0+pve77', please upgrade node 'localhost'
 smbios1: uuid=6cf17dc3-8341-4ecc-aebd-7503f2583fb3
 machine: pc-q35-9.0+pve77
+arch: x86_64
diff --git a/test/cfg2cmd/minimal-defaults.conf b/test/cfg2cmd/minimal-defaults.conf
index bb22d05f..df120afd 100644
--- a/test/cfg2cmd/minimal-defaults.conf
+++ b/test/cfg2cmd/minimal-defaults.conf
@@ -1,2 +1,3 @@
 # TEST: minimal configuration to detect default changes
 smbios1: uuid=6cf17dc3-8341-4ecc-aebd-7503f2583fb3
+arch: x86_64
diff --git a/test/cfg2cmd/netdev-7.0-multiqueues.conf b/test/cfg2cmd/netdev-7.0-multiqueues.conf
index e55f5c93..86d89460 100644
--- a/test/cfg2cmd/netdev-7.0-multiqueues.conf
+++ b/test/cfg2cmd/netdev-7.0-multiqueues.conf
@@ -7,3 +7,4 @@ name: netdev-multiq
 net0: virtio=A2:C0:43:77:08:A0,bridge=vmbr0,mtu=900,queues=2
 ostype: l26
 smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
+arch: x86_64
diff --git a/test/cfg2cmd/netdev-7.1-multiqueues.conf b/test/cfg2cmd/netdev-7.1-multiqueues.conf
index 162bd9c5..6b9d0c26 100644
--- a/test/cfg2cmd/netdev-7.1-multiqueues.conf
+++ b/test/cfg2cmd/netdev-7.1-multiqueues.conf
@@ -5,3 +5,4 @@ memory: 768
 name: netdev
 net0: virtio=A2:C0:43:77:08:A0,bridge=vmbr0,mtu=900,queues=2
 ostype: l26
+arch: x86_64
diff --git a/test/cfg2cmd/netdev-7.1.conf b/test/cfg2cmd/netdev-7.1.conf
index 8ae0673e..ce171946 100644
--- a/test/cfg2cmd/netdev-7.1.conf
+++ b/test/cfg2cmd/netdev-7.1.conf
@@ -5,3 +5,4 @@ memory: 768
 name: netdev
 net0: virtio=A2:C0:43:77:08:A0,bridge=vmbr0,mtu=900
 ostype: l26
+arch: x86_64
diff --git a/test/cfg2cmd/netdev.conf b/test/cfg2cmd/netdev.conf
index dab152c0..32f46429 100644
--- a/test/cfg2cmd/netdev.conf
+++ b/test/cfg2cmd/netdev.conf
@@ -6,3 +6,4 @@ memory: 768
 name: netdev
 net0: virtio=A2:C0:43:77:08:A0,bridge=vmbr0,mtu=900
 ostype: l26
+arch: x86_64
diff --git a/test/cfg2cmd/old-qemu.conf b/test/cfg2cmd/old-qemu.conf
index e8129cf6..301fc9dd 100644
--- a/test/cfg2cmd/old-qemu.conf
+++ b/test/cfg2cmd/old-qemu.conf
@@ -2,3 +2,4 @@
 # QEMU_VERSION: 4.0.1
 # EXPECT_ERROR: Detected old QEMU binary ('4.0.1', at least 5.0 is required)
 smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
+arch: x86_64
diff --git a/test/cfg2cmd/ostype-usb13-error.conf b/test/cfg2cmd/ostype-usb13-error.conf
index f8e4397d..a13d09cd 100644
--- a/test/cfg2cmd/ostype-usb13-error.conf
+++ b/test/cfg2cmd/ostype-usb13-error.conf
@@ -10,3 +10,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 vga: qxl
 usb13: spice
+arch: x86_64
diff --git a/test/cfg2cmd/pinned-version-pxe-pve.conf b/test/cfg2cmd/pinned-version-pxe-pve.conf
index 36169d7b..587d694c 100644
--- a/test/cfg2cmd/pinned-version-pxe-pve.conf
+++ b/test/cfg2cmd/pinned-version-pxe-pve.conf
@@ -15,3 +15,4 @@ sockets: 1
 vmgenid: bdd46b98-fefc-11e9-97b4-d72c378e0f96
 # add rng0 to stress +pve2 version requirement
 rng0: source=/dev/urandom
+arch: x86_64
diff --git a/test/cfg2cmd/pinned-version-pxe.conf b/test/cfg2cmd/pinned-version-pxe.conf
index 738868f2..7048ba09 100644
--- a/test/cfg2cmd/pinned-version-pxe.conf
+++ b/test/cfg2cmd/pinned-version-pxe.conf
@@ -13,3 +13,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=c7fdd046-fefc-11e9-832e-770e1d5636a0
 sockets: 1
 vmgenid: bdd46b98-fefc-11e9-97b4-d72c378e0f96
+arch: x86_64
diff --git a/test/cfg2cmd/pinned-version.conf b/test/cfg2cmd/pinned-version.conf
index 61191836..27fc8732 100644
--- a/test/cfg2cmd/pinned-version.conf
+++ b/test/cfg2cmd/pinned-version.conf
@@ -13,3 +13,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=c7fdd046-fefc-11e9-832e-770e1d5636a0
 sockets: 1
 vmgenid: bdd46b98-fefc-11e9-97b4-d72c378e0f96
+arch: x86_64
diff --git a/test/cfg2cmd/q35-ide.conf b/test/cfg2cmd/q35-ide.conf
index bfef0a14..7d3a246e 100644
--- a/test/cfg2cmd/q35-ide.conf
+++ b/test/cfg2cmd/q35-ide.conf
@@ -13,3 +13,4 @@ scsi0: local:100/vm-100-disk-2.qcow2,size=10G
 scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/q35-linux-hostpci-mapping.conf b/test/cfg2cmd/q35-linux-hostpci-mapping.conf
index 2366fc4a..36c0fe46 100644
--- a/test/cfg2cmd/q35-linux-hostpci-mapping.conf
+++ b/test/cfg2cmd/q35-linux-hostpci-mapping.conf
@@ -15,3 +15,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 sockets: 2
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/q35-linux-hostpci-multifunction.conf b/test/cfg2cmd/q35-linux-hostpci-multifunction.conf
index 5f1a3ff7..20b86011 100644
--- a/test/cfg2cmd/q35-linux-hostpci-multifunction.conf
+++ b/test/cfg2cmd/q35-linux-hostpci-multifunction.conf
@@ -14,3 +14,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 sockets: 2
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/q35-linux-hostpci-template.conf b/test/cfg2cmd/q35-linux-hostpci-template.conf
index dfbf1322..a32fcfdb 100644
--- a/test/cfg2cmd/q35-linux-hostpci-template.conf
+++ b/test/cfg2cmd/q35-linux-hostpci-template.conf
@@ -21,3 +21,4 @@ sockets: 2
 template: 1
 tpmstate0: local:100/base-100-disk-1.raw,size=4M,version=v2.0
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/q35-linux-hostpci-x-pci-overrides.conf b/test/cfg2cmd/q35-linux-hostpci-x-pci-overrides.conf
index b726a3a4..7e0bc39d 100644
--- a/test/cfg2cmd/q35-linux-hostpci-x-pci-overrides.conf
+++ b/test/cfg2cmd/q35-linux-hostpci-x-pci-overrides.conf
@@ -14,3 +14,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 sockets: 2
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/q35-linux-hostpci.conf b/test/cfg2cmd/q35-linux-hostpci.conf
index 7290120a..9afdc1eb 100644
--- a/test/cfg2cmd/q35-linux-hostpci.conf
+++ b/test/cfg2cmd/q35-linux-hostpci.conf
@@ -18,3 +18,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 sockets: 2
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/q35-simple-6.0.conf b/test/cfg2cmd/q35-simple-6.0.conf
index d482dfea..f6b280ef 100644
--- a/test/cfg2cmd/q35-simple-6.0.conf
+++ b/test/cfg2cmd/q35-simple-6.0.conf
@@ -10,3 +10,4 @@ ostype: l26
 scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/q35-simple-7.0.conf b/test/cfg2cmd/q35-simple-7.0.conf
index 9e3097ee..419de470 100644
--- a/test/cfg2cmd/q35-simple-7.0.conf
+++ b/test/cfg2cmd/q35-simple-7.0.conf
@@ -11,3 +11,4 @@ ostype: l26
 scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/q35-simple-pinned-6.1.conf b/test/cfg2cmd/q35-simple-pinned-6.1.conf
index 9ecfe006..e807c353 100644
--- a/test/cfg2cmd/q35-simple-pinned-6.1.conf
+++ b/test/cfg2cmd/q35-simple-pinned-6.1.conf
@@ -11,3 +11,4 @@ ostype: l26
 scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/q35-simple.conf b/test/cfg2cmd/q35-simple.conf
index 21f78122..8087744a 100644
--- a/test/cfg2cmd/q35-simple.conf
+++ b/test/cfg2cmd/q35-simple.conf
@@ -11,3 +11,4 @@ ostype: l26
 scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/q35-usb13-error.conf b/test/cfg2cmd/q35-usb13-error.conf
index 4777902b..00126aac 100644
--- a/test/cfg2cmd/q35-usb13-error.conf
+++ b/test/cfg2cmd/q35-usb13-error.conf
@@ -11,3 +11,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 vga: qxl
 usb13: spice
+arch: x86_64
diff --git a/test/cfg2cmd/q35-usb2.conf b/test/cfg2cmd/q35-usb2.conf
index b106b9e8..9931988e 100644
--- a/test/cfg2cmd/q35-usb2.conf
+++ b/test/cfg2cmd/q35-usb2.conf
@@ -10,3 +10,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 vga: qxl
 usb1: spice
+arch: x86_64
diff --git a/test/cfg2cmd/q35-usb3.conf b/test/cfg2cmd/q35-usb3.conf
index 3e405919..84a0870e 100644
--- a/test/cfg2cmd/q35-usb3.conf
+++ b/test/cfg2cmd/q35-usb3.conf
@@ -10,3 +10,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 vga: qxl
 usb1: spice,usb3=1
+arch: x86_64
diff --git a/test/cfg2cmd/q35-viommu-intel.conf b/test/cfg2cmd/q35-viommu-intel.conf
index e500ab09..23e3b3ef 100644
--- a/test/cfg2cmd/q35-viommu-intel.conf
+++ b/test/cfg2cmd/q35-viommu-intel.conf
@@ -1 +1,2 @@
 machine: q35,viommu=intel
+arch: x86_64
diff --git a/test/cfg2cmd/q35-viommu-virtio.conf b/test/cfg2cmd/q35-viommu-virtio.conf
index d31b3395..2e7dd293 100644
--- a/test/cfg2cmd/q35-viommu-virtio.conf
+++ b/test/cfg2cmd/q35-viommu-virtio.conf
@@ -1 +1,2 @@
 machine: type=q35,viommu=virtio
+arch: x86_64
diff --git a/test/cfg2cmd/q35-win10-hostpci.conf b/test/cfg2cmd/q35-win10-hostpci.conf
index a8f6e342..e0df1b8c 100644
--- a/test/cfg2cmd/q35-win10-hostpci.conf
+++ b/test/cfg2cmd/q35-win10-hostpci.conf
@@ -15,3 +15,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=3dd750ce-d910-44d0-9493-525c0be4e687
 sockets: 2
 vmgenid: 54d1c06c-8f5b-440f-b5b2-6eab1380e13d
+arch: x86_64
diff --git a/test/cfg2cmd/qemu-xhci-7.1.conf b/test/cfg2cmd/qemu-xhci-7.1.conf
index b09d37bf..ab106c68 100644
--- a/test/cfg2cmd/qemu-xhci-7.1.conf
+++ b/test/cfg2cmd/qemu-xhci-7.1.conf
@@ -12,3 +12,4 @@ vga: qxl
 usb1: spice
 usb5: spice
 usb13: host=1-14
+arch: x86_64
diff --git a/test/cfg2cmd/qemu-xhci-q35-7.1.conf b/test/cfg2cmd/qemu-xhci-q35-7.1.conf
index 7740e54f..825be7c7 100644
--- a/test/cfg2cmd/qemu-xhci-q35-7.1.conf
+++ b/test/cfg2cmd/qemu-xhci-q35-7.1.conf
@@ -9,3 +9,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 usb1: spice
+arch: x86_64
diff --git a/test/cfg2cmd/seabios_serial.conf b/test/cfg2cmd/seabios_serial.conf
index 7ebfa504..3b375a15 100644
--- a/test/cfg2cmd/seabios_serial.conf
+++ b/test/cfg2cmd/seabios_serial.conf
@@ -14,3 +14,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 sockets: 1
 vga: serial0
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
+arch: x86_64
diff --git a/test/cfg2cmd/simple-balloon-free-page-reporting.conf b/test/cfg2cmd/simple-balloon-free-page-reporting.conf
index ae71eaf6..ef47e503 100644
--- a/test/cfg2cmd/simple-balloon-free-page-reporting.conf
+++ b/test/cfg2cmd/simple-balloon-free-page-reporting.conf
@@ -13,3 +13,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 sockets: 1
 vmgenid: c773c261-d800-4348-1010-1010add53cf8
+arch: x86_64
diff --git a/test/cfg2cmd/simple-btrfs.conf b/test/cfg2cmd/simple-btrfs.conf
index e18d1349..ad6687f1 100644
--- a/test/cfg2cmd/simple-btrfs.conf
+++ b/test/cfg2cmd/simple-btrfs.conf
@@ -12,3 +12,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 sockets: 1
 vmgenid: c773c261-d800-4348-1010-1010add53cf8
+arch: x86_64
diff --git a/test/cfg2cmd/simple-virtio-blk.conf b/test/cfg2cmd/simple-virtio-blk.conf
index d9db7580..f51ed4c8 100644
--- a/test/cfg2cmd/simple-virtio-blk.conf
+++ b/test/cfg2cmd/simple-virtio-blk.conf
@@ -11,3 +11,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 sockets: 1
 virtio0: local:8006/vm-8006-disk-0.qcow2,discard=on,iothread=1,size=104858K
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
+arch: x86_64
diff --git a/test/cfg2cmd/simple1-template.conf b/test/cfg2cmd/simple1-template.conf
index 491aa7d0..4aeffc0f 100644
--- a/test/cfg2cmd/simple1-template.conf
+++ b/test/cfg2cmd/simple1-template.conf
@@ -14,3 +14,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 sockets: 1
 template: 1
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
+arch: x86_64
diff --git a/test/cfg2cmd/simple1.conf b/test/cfg2cmd/simple1.conf
index 9feb9d26..ab61bc73 100644
--- a/test/cfg2cmd/simple1.conf
+++ b/test/cfg2cmd/simple1.conf
@@ -12,3 +12,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 sockets: 1
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
+arch: x86_64
diff --git a/test/cfg2cmd/spice-enhancments.conf b/test/cfg2cmd/spice-enhancments.conf
index 895565c8..8b8e1ebe 100644
--- a/test/cfg2cmd/spice-enhancments.conf
+++ b/test/cfg2cmd/spice-enhancments.conf
@@ -4,3 +4,4 @@ smbios1: uuid=363a6126-5f48-43e1-811f-013294a946a0
 spice_enhancements: foldersharing=1,videostreaming=all
 vga: qxl
 vmgenid: 719b9591-1b0d-4e43-bca2-22b9ffbd3568
+arch: x86_64
diff --git a/test/cfg2cmd/spice-linux-4.1.conf b/test/cfg2cmd/spice-linux-4.1.conf
index e72cbe67..b519d035 100644
--- a/test/cfg2cmd/spice-linux-4.1.conf
+++ b/test/cfg2cmd/spice-linux-4.1.conf
@@ -9,3 +9,4 @@ scsihw: virtio-scsi-pci
 smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 vga: qxl
+arch: x86_64
diff --git a/test/cfg2cmd/spice-usb3.conf b/test/cfg2cmd/spice-usb3.conf
index 40d0dfb7..a383a261 100644
--- a/test/cfg2cmd/spice-usb3.conf
+++ b/test/cfg2cmd/spice-usb3.conf
@@ -10,3 +10,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 vga: qxl
 usb1: spice,usb3=1
+arch: x86_64
diff --git a/test/cfg2cmd/spice-win.conf b/test/cfg2cmd/spice-win.conf
index 67fb7bc7..04a30a30 100644
--- a/test/cfg2cmd/spice-win.conf
+++ b/test/cfg2cmd/spice-win.conf
@@ -10,3 +10,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec461
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf7
 vga: qxl2
 usb1: spice,usb3=1
+arch: x86_64
diff --git a/test/cfg2cmd/usb13-error.conf b/test/cfg2cmd/usb13-error.conf
index 257be94f..0e83cef1 100644
--- a/test/cfg2cmd/usb13-error.conf
+++ b/test/cfg2cmd/usb13-error.conf
@@ -11,3 +11,4 @@ smbios1: uuid=7b10d7af-b932-4c66-b2c3-3996152ec465
 vmgenid: c773c261-d800-4348-9f5d-167fadd53cf8
 vga: qxl
 usb13: spice
+arch: x86_64
diff --git a/test/cfg2cmd/vnc-clipboard-spice.conf b/test/cfg2cmd/vnc-clipboard-spice.conf
index f4c917d5..f435dfda 100644
--- a/test/cfg2cmd/vnc-clipboard-spice.conf
+++ b/test/cfg2cmd/vnc-clipboard-spice.conf
@@ -1,2 +1,3 @@
 # TEST: Test for a VNC clipboard with a SPICE QXL display
 vga: qxl,clipboard=vnc
+arch: x86_64
diff --git a/test/cfg2cmd/vnc-clipboard-std.conf b/test/cfg2cmd/vnc-clipboard-std.conf
index 1474766b..97e67630 100644
--- a/test/cfg2cmd/vnc-clipboard-std.conf
+++ b/test/cfg2cmd/vnc-clipboard-std.conf
@@ -1,2 +1,3 @@
 # TEST: Test for a VNC clipboard with a std display
 vga: std,clipboard=vnc
+arch: x86_64
-- 
2.39.5

